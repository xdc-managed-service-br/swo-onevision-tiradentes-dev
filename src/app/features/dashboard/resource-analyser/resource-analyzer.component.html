<div class="analyzer-container">
    <h2>AWS Resource Distribution Analysis</h2>
    
    <div *ngIf="loading" class="loading">
      Loading resource analysis...
    </div>
    
    <div *ngIf="error" class="error">
      {{ error }}
    </div>
    
    <div *ngIf="!loading && !error" class="analysis-content">
      <h3>Total Resources: {{ totalCount }}</h3>
      <p>
        This analysis shows the distribution of resources by type. The dashboard may be filtering for
        specific resource types and may have pagination limiting the results.
      </p>
  
      <div class="charts-container">
        <div class="chart-card">
          <h4>Resource Type Breakdown</h4>
          <div class="chart">
            <!-- You'll need to add a charting library for Angular -->
            <!-- For example: ng2-charts, ngx-charts, etc. -->
            <table class="resource-table">
              <thead>
                <tr>
                  <th>Resource Type</th>
                  <th>Count</th>
                  <th>Percentage</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let type of resourceTypes">
                  <td>{{ type }}</td>
                  <td>{{ resourceCounts[type] }}</td>
                  <td>{{ (resourceCounts[type] / totalCount * 100).toFixed(1) }}%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <div class="fix-instructions">
        <h3>How to Fix the Issue</h3>
        <ol>
          <li>
            <strong>Update your resource counting logic:</strong> Modify the dashboard component to include AMI and EBS snapshots in your counts.
          </li>
          <li>
            <strong>Implement pagination:</strong> Update your resource fetching to handle pagination.
          </li>
          <li>
            <strong>Update the UI:</strong> Add sections in your dashboard or resource views to show AMI snapshots and EBS snapshots.
          </li>
        </ol>
      </div>
    </div>
  </div>