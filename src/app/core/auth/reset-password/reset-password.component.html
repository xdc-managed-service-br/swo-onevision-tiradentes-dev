<div class="reset-container">
    <div class="reset-card">
      <div class="reset-header">
        <h1>OneVision</h1>
        <p>AWS Resource Management Platform</p>
      </div>
  
      <!-- Request Reset Code Step -->
      <div *ngIf="currentStep === 'request'" class="reset-form">
        <h2>Reset Password</h2>
        
        <p>Enter your email address and we'll send you a code to reset your password.</p>
        
        <form (ngSubmit)="requestResetCode()">
          <div class="form-group">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              [(ngModel)]="email" 
              placeholder="Enter your email"
              [disabled]="isLoading"
            >
          </div>
          
          <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
          </div>
          
          <div *ngIf="successMessage" class="success-message">
            {{ successMessage }}
          </div>
          
          <div class="form-actions">
            <button 
              type="submit" 
              [disabled]="isLoading" 
              class="primary-button"
            >
              {{ isLoading ? 'Sending...' : 'Send Reset Code' }}
            </button>
            
            <button 
              type="button" 
              (click)="goToLogin()" 
              class="secondary-button"
              [disabled]="isLoading"
            >
              Back to Login
            </button>
          </div>
        </form>
      </div>
  
      <!-- Confirm Reset Password Step -->
      <div *ngIf="currentStep === 'confirm'" class="reset-form">
        <h2>Set New Password</h2>
        
        <form (ngSubmit)="confirmPasswordReset()">
          <div class="form-group">
            <label for="resetCode">Verification Code</label>
            <input 
              type="text" 
              id="resetCode" 
              name="resetCode" 
              [(ngModel)]="resetCode" 
              placeholder="Enter verification code"
              [disabled]="isLoading"
            >
            <small class="code-hint">The verification code was sent to your email address.</small>
          </div>
          
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <input 
              type="password" 
              id="newPassword" 
              name="newPassword" 
              [(ngModel)]="newPassword" 
              placeholder="Enter your new password"
              [disabled]="isLoading"
            >
          </div>
          
          <div class="form-group">
            <label for="confirmNewPassword">Confirm New Password</label>
            <input 
              type="password" 
              id="confirmNewPassword" 
              name="confirmNewPassword" 
              [(ngModel)]="confirmNewPassword" 
              placeholder="Confirm your new password"
              [disabled]="isLoading"
            >
          </div>
          
          <div class="password-requirements">
            <p>Password requirements:</p>
            <ul>
              <li>Minimum 8 characters</li>
              <li>At least one uppercase letter</li>
              <li>At least one lowercase letter</li>
              <li>At least one number</li>
              <li>At least one special character</li>
            </ul>
          </div>
          
          <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
          </div>
          
          <div *ngIf="successMessage" class="success-message">
            {{ successMessage }}
          </div>
          
          <div class="form-actions">
            <button 
              type="submit" 
              [disabled]="isLoading" 
              class="primary-button"
            >
              {{ isLoading ? 'Submitting...' : 'Reset Password' }}
            </button>
            
            <button 
              type="button" 
              (click)="backToRequest()" 
              class="secondary-button"
              [disabled]="isLoading"
            >
              Back to Previous Step
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>